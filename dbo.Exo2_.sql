DROP TABLE [dbo].[Exo2_PlayerGamePlay]
DROP TABLE [dbo].[Exo2_GamePlay]
DROP TABLE [dbo].[Exo2_Player]
DROP TABLE [dbo].[Exo2_OpeningHour]
DROP TABLE [dbo].[Exo2_LKP_DayOfWeek]
DROP TABLE [dbo].[Exo2_Game]
-------------------------------------------------------
CREATE TABLE Exo2_Game(
[Id] [int] IDENTITY(1,1) NOT NULL,
[Name] [varchar] (250) NOT NULL,
[RankingType] [bit] NULL,
PRIMARY KEY (Id)
)
-------------------------------------------------------
CREATE TABLE Exo2_LKP_DayOfWeek(
[Id] [int] IDENTITY(1,1) NOT NULL,
[Name] [varchar] (250) NOT NULL,
PRIMARY KEY (Id)
)
-------------------------------------------------------
CREATE TABLE Exo2_OpeningHour(
[Id] [int] IDENTITY(1,1) NOT NULL,
[DayOfWeekId] [int] NOT NULL,
StartHour [int] NOT NULL,
StartMinute [int] NOT NULL,
EndHour [int] NOT NULL,
EndMinute [int] NOT NULL,
FOREIGN KEY (DayOfWeekId) REFERENCES Exo2_LKP_DayOfWeek(Id),
PRIMARY KEY (Id)
)
-------------------------------------------------------
CREATE TABLE Exo2_Player(
[Id] [int] IDENTITY(1,1) NOT NULL,
[Lastname] [varchar] (250) NOT NULL,
[FirstName] [varchar] (250) NOT NULL,
[Pseudo] [varchar] (250) NULL,
[DateOfBirth][date] NOT NULL
PRIMARY KEY (Id)
)
-------------------------------------------------------
CREATE TABLE Exo2_GamePlay(
[Id] [int] IDENTITY(1,1) NOT NULL,
[StartDate][DateTime] NOT NULL,
[GameId] [int] NOT NULL

PRIMARY KEY (Id),
FOREIGN KEY (GameId) REFERENCES Exo2_Game(Id),
)
-------------------------------------------------------
CREATE TABLE Exo2_PlayerGamePlay
(
[Id] [int] IDENTITY(1,1) NOT NULL,
[PlayerId] [int] NOT NULL,
[GamePlayId] [int] NOT NULL,
[IsWinner] [bit] NOT NULL,
[Score] [int] NULL
PRIMARY KEY (Id),
FOREIGN KEY (PlayerId) REFERENCES [dbo].[Exo2_Player] (Id),
FOREIGN KEY (GamePlayId) REFERENCES [dbo].[Exo2_GamePlay] (Id)
)
-------------------------------------------------------
SET IDENTITY_INSERT [dbo].[Exo2_Game] ON; 
INSERT INTO [dbo].[Exo2_Game] (Id, Name, RankingType) VALUES
(1, 'Cluedo', 1),
(2, 'Monopoly', 1),
(3, 'Scrabble', 0),
(4, 'Echec', 1),
(5, 'Citadelle', 1),
(6, 'Catan', 1);
SET IDENTITY_INSERT [dbo].[Exo2_Game] OFF; 
-------------------------------------------------------
DELETE FROM [dbo].[Exo2_LKP_DayOfWeek] ;
INSERT INTO [dbo].[Exo2_LKP_DayOfWeek] (Name) VALUES
('Lundi'),
('Mardi'),
('Mercredi'),
('Jeudi'),
('Vendredi'),
('Samedi'),
('Dimanche')

-------------------------------------------------------
SET IDENTITY_INSERT [dbo].[Exo2_Player] ON; 
INSERT INTO [dbo].[Exo2_Player] (Id, Lastname, FirstName, Pseudo, DateOfBirth) VALUES
(1, 'Lefranc-Adam', 'Mattis','Le plus fort', '2024-01-11'),
(2, 'Mouttaki', 'Salim', 'Le petit S', '1970-01-01'),
(3, 'Fenu', 'Alex', NULL,  '1970-01-01'),
(4, 'Castel', 'Eric', NULL, '1970-01-01'),
(5, 'Rosales', 'Luca', NULL, '1970-01-01'),
(6, 'Hemissi', 'Ines', NULL, '1970-01-01')
SET IDENTITY_INSERT [dbo].[Exo2_Player] OFF; 
-------------------------------------------------------
INSERT INTO [dbo].[Exo2_OpeningHour] (DayOfWeekId, StartHour, StartMinute, EndHour,EndMinute) VALUES
(1, 9, 0, 12, 0),
(1, 14, 0, 18, 0),
(2, 9, 0, 12, 0),
(2, 14, 0, 18, 0),
(3, 9, 0, 19, 0),
(4, 14, 0, 18, 0),
(4, 9, 0, 12, 0),
(5, 14, 0, 18, 0),
(5, 9, 0, 12, 0),
(3, 9, 0, 19, 0);
-------------------------------------------------------
DELETE FROM [dbo].[Exo2_GamePlay] ;
INSERT INTO [dbo].[Exo2_GamePlay](StartDate, GameId) VALUES
('2024-02-13 00:00:00', 6), 
('2024-01-06 00:00:00', 4), 
('2024-02-21 00:00:00', 4), 
('2024-02-08 00:00:00', 5), 
('2024-01-10 00:00:00', 4), 
('2024-02-09 00:00:00', 5), 
('2024-01-01 00:00:00', 2), 
('2024-01-29 00:00:00', 3), 
('2024-01-04 00:00:00', 6), 
('2024-01-29 00:00:00', 3), 
('2024-01-27 00:00:00', 2), 
('2024-02-16 00:00:00', 5), 
('2024-02-28 00:00:00', 3), 
('2024-02-05 00:00:00', 1), 
('2024-01-06 00:00:00', 6), 
('2024-02-12 00:00:00', 5), 
('2024-02-07 00:00:00', 1), 
('2024-02-02 00:00:00', 5), 
('2024-01-23 00:00:00', 4), 
('2024-02-19 00:00:00', 3),

('2024-02-07 00:00:00', 5), 
('2024-01-17 00:00:00', 1), 
('2024-02-07 00:00:00', 2), 
('2024-02-24 00:00:00', 2), 
('2024-02-27 00:00:00', 3), 
('2024-01-03 00:00:00', 2), 
('2024-02-26 00:00:00', 2), 
('2024-02-18 00:00:00', 4), 
('2024-02-26 00:00:00', 6), 
('2024-02-24 00:00:00', 5), 
('2024-02-01 00:00:00', 2), 
('2024-01-13 00:00:00', 6), 
('2024-02-06 00:00:00', 1), 
('2024-01-29 00:00:00', 5), 
('2024-02-15 00:00:00', 3), 
('2024-02-12 00:00:00', 2), 
('2024-02-24 00:00:00', 5), 
('2024-02-19 00:00:00', 2), 
('2024-02-22 00:00:00', 4), 
('2024-01-15 00:00:00', 1),

('2024-03-11 00:00:00', 2),
('2024-01-30 00:00:00', 5),
('2024-02-17 00:00:00', 3),
('2024-03-01 00:00:00', 6),
('2024-01-25 00:00:00', 1),
('2024-02-22 00:00:00', 4),
('2024-01-11 00:00:00', 6),
('2024-02-04 00:00:00', 3),
('2024-01-31 00:00:00', 5),
('2024-02-25 00:00:00', 2),
('2024-03-03 00:00:00', 6),
('2024-02-20 00:00:00', 4),
('2024-02-14 00:00:00', 1),
('2024-01-07 00:00:00', 5),
('2024-03-05 00:00:00', 3),
('2024-02-10 00:00:00', 6),
('2024-02-16 00:00:00', 2),
('2024-02-23 00:00:00', 4),
('2024-03-02 00:00:00', 1),
('2024-02-13 00:00:00', 6),

('2024-03-08 00:00:00', 3),
('2024-02-28 00:00:00', 5),
('2024-01-19 00:00:00', 6),
('2024-03-04 00:00:00', 2),
('2024-01-14 00:00:00', 1),
('2024-02-11 00:00:00', 4),
('2024-03-09 00:00:00', 2),
('2024-02-08 00:00:00', 5),
('2024-01-18 00:00:00', 3),
('2024-01-10 00:00:00', 2),
('2024-03-06 00:00:00', 4),
('2024-01-08 00:00:00', 6),
('2024-02-21 00:00:00', 1),
('2024-01-20 00:00:00', 4),
('2024-03-10 00:00:00', 5),
('2024-02-09 00:00:00', 3),
('2024-03-07 00:00:00', 2),
('2024-01-29 00:00:00', 1),
('2024-02-15 00:00:00', 6),
('2024-03-12 00:00:00', 5);
-------------------------------------------------------
DELETE FROM [dbo].[Exo2_PlayerGamePlay] ;
INSERT INTO [dbo].[Exo2_PlayerGamePlay] (PlayerId,GamePlayId, IsWinner, Score) VALUES
(1, 1, 0, NULL),
(2, 1, 1, NULL),
(3, 1, 0, NULL),
(4, 1, 0, NULL),
(5, 1, 0, NULL),
(6, 1, 0, NULL),

(1, 2, 0, NULL),
(2, 2, 1, NULL),
(3, 2, 0, NULL),
(4, 2, 0, NULL),
(5, 2, 0, NULL),
(6, 2, 0, NULL),

(1, 3, 0, NULL),
(2, 3, 1, NULL),
(3, 3, 0, NULL),
(4, 3, 0, NULL),
(5, 3, 0, NULL),
(6, 3, 0, NULL),

(1, 4, 0, NULL),
(2, 4, 0, NULL),
(3, 4, 1, NULL),
(4, 4, 0, NULL),
(5, 4, 0, NULL),
(6, 4, 0, NULL),

(1, 5, 0, NULL),
(2, 5, 0, NULL),
(3, 5, 0, NULL),
(4, 5, 0, NULL),
(5, 5, 1, NULL),
(6, 5, 0, NULL),

(1, 6, 0, NULL),
(2, 6, 0, NULL),
(3, 6, 0, NULL),
(4, 6, 0, NULL),
(5, 6, 0, NULL),
(6, 6, 1, NULL),

(1, 7, 1, NULL),
(2, 7, 0, NULL),
(3, 7, 0, NULL),
(4, 7, 0, NULL),
(5, 7, 0, NULL),
(6, 7, 0, NULL),

(1, 8, 0, 215),
(2, 8, 1, 269),
(3, 8, 0, 123),
(4, 8, 0, 139),
(5, 8, 0, 115),
(6, 8, 0, 160),

(1, 9, 0, NULL),
(2, 9, 0, NULL),
(3, 9, 1, NULL),
(4, 9, 0, NULL),
(5, 9, 0, NULL),
(6, 9, 0, NULL),

(1, 10, 0, 132),
(2, 10, 0, 156),
(3, 10, 0, 120),
(4, 10, 1, 286),
(5, 10, 0, 205),
(6, 10, 0, 199),

(1, 11, 0, NULL),
(2, 11, 0, NULL),
(3, 11, 0, NULL),
(4, 11, 0, NULL),
(5, 11, 1, NULL),
(6, 11, 0, NULL),

(1, 12, 0, NULL),
(2, 12, 1, NULL),
(3, 12, 0, NULL),
(4, 12, 0, NULL),
(5, 12, 0, NULL),
(6, 12, 0, NULL),

(1, 12, 0, NULL),
(2, 12, 0, NULL),
(3, 12, 0, NULL),
(4, 12, 1, NULL),
(5, 12, 0, NULL),
(6, 12, 0, NULL),

(1, 13, 0, 282),
(2, 13, 0, 290),
(3, 13, 0, 205),
(4, 13, 0, 235),
(5, 13, 0, 159),
(6, 13, 1, 301),

(1, 14, 0, NULL),
(2, 14, 0, NULL),
(3, 14, 0, NULL),
(4, 14, 0, NULL),
(5, 14, 0, NULL),
(6, 14, 1, NULL),

(1, 15, 1, NULL),
(2, 15, 0, NULL),
(3, 15, 0, NULL),
(4, 15, 0, NULL),
(5, 15, 0, NULL),
(6, 15, 0, NULL),

(1, 16, 0, NULL),
(2, 16, 0, NULL),
(3, 16, 0, NULL),
(4, 16, 1, NULL),
(5, 16, 0, NULL),
(6, 16, 0, NULL),

(1, 17, 0, NULL),
(2, 17, 0, NULL),
(3, 17, 1, NULL),
(4, 17, 0, NULL),
(5, 17, 0, NULL),
(6, 17, 0, NULL),

(1, 18, 0, NULL),
(2, 18, 0, NULL),
(3, 18, 0, NULL),
(4, 18, 0, NULL),
(5, 18, 1, NULL),
(6, 18, 0, NULL),

(1, 19, 0, NULL),
(2, 19, 1, NULL),
(3, 19, 0, NULL),
(4, 19, 0, NULL),
(5, 19, 0, NULL),
(6, 19, 0, NULL),


(1, 20, 0, 175),
(2, 20, 0, 169),
(3, 20, 0, 166),
(4, 20, 1, 360),
(5, 20, 0, 105),
(6, 20, 0, 205),


(1, 21, 0, NULL),
(2, 21, 0, NULL),
(3, 21, 0, NULL),
(4, 21, 0, NULL),
(5, 21, 0, NULL),
(6, 21, 1, NULL),


(1, 22, 0, NULL),
(2, 22, 0, NULL),
(3, 22, 0, NULL),
(4, 22, 1, NULL),
(5, 22, 0, NULL),
(6, 22, 0, NULL),


(1, 23, 0, NULL),
(2, 23, 1, NULL),
(3, 23, 0, NULL),
(4, 23, 0, NULL),
(5, 23, 0, NULL),
(6, 23, 0, NULL),


(1, 24, 1, NULL),
(2, 24, 0, NULL),
(3, 24, 0, NULL),
(4, 24, 0, NULL),
(5, 24, 0, NULL),
(6, 24, 0, NULL),


(1, 25, 1, 302),
(2, 25, 0, 268),
(3, 25, 0, 156),
(4, 25, 0, 300),
(5, 25, 0, 270),
(6, 25, 0, 75),


(1, 26, 0, NULL),
(2, 26, 1, NULL),
(3, 26, 0, NULL),
(4, 26, 0, NULL),
(5, 26, 0, NULL),
(6, 26, 0, NULL),


(1, 27, 0, NULL),
(2, 27, 0, NULL),
(3, 27, 1, NULL),
(4, 27, 0, NULL),
(5, 27, 0, NULL),
(6, 27, 0, NULL),


(1, 28, 0, NULL),
(2, 28, 0, NULL),
(3, 28, 0, NULL),
(4, 28, 0, NULL),
(5, 28, 0, NULL),
(6, 28, 1, NULL),


(1, 29, 0, NULL),
(2, 29, 0, NULL),
(3, 29, 0, NULL),
(4, 29, 1, NULL),
(5, 29, 0, NULL),
(6, 29, 0, NULL),


(1, 30, 0, NULL),
(2, 30, 0, NULL),
(3, 30, 1, NULL),
(4, 30, 0, NULL),
(5, 30, 0, NULL),
(6, 30, 0, NULL),

(1, 31, 0, NULL),
(2, 31, 0, NULL),
(3, 31, 1, NULL),
(4, 31, 0, NULL),
(5, 31, 0, NULL),
(6, 31, 0, NULL),

(1, 32, 0, NULL),
(2, 32, 0, NULL),
(3, 32, 1, NULL),
(4, 32, 0, NULL),
(5, 32, 0, NULL),
(6, 32, 0, NULL),

(1, 33, 0, NULL),
(2, 33, 0, NULL),
(3, 33, 1, NULL),
(4, 33, 0, NULL),
(5, 33, 0, NULL),
(6, 33, 0, NULL),

(1, 34, 0, NULL),
(2, 34, 0, NULL),
(3, 34, 1, NULL),
(4, 34, 0, NULL),
(5, 34, 0, NULL),
(6, 34, 0, NULL),

(1, 35, 0, 358),
(2, 35, 0, 153),
(3, 35, 1, 360),
(4, 35, 0, 60),
(5, 35, 0, 342),
(6, 35, 0, 256),

(1, 36, 0, NULL),
(2, 36, 0, NULL),
(3, 36, 1, NULL),
(4, 36, 0, NULL),
(5, 36, 0, NULL),
(6, 36, 0, NULL),

(1, 37, 0, NULL),
(2, 37, 0, NULL),
(3, 37, 0, NULL),
(4, 37, 1, NULL),
(5, 37, 0, NULL),
(6, 37, 0, NULL),

(1, 38, 0, NULL),
(2, 38, 1, NULL),
(3, 38, 0, NULL),
(4, 38, 0, NULL),
(5, 38, 0, NULL),
(6, 38, 0, NULL),

(1, 39, 0, NULL),
(2, 39, 0, NULL),
(3, 39, 1, NULL),
(4, 39, 0, NULL),
(5, 39, 0, NULL),
(6, 39, 0, NULL),

(1, 40, 0, NULL),
(2, 40, 1, NULL),
(3, 40, 0, NULL),
(4, 40, 0, NULL),
(5, 40, 0, NULL),
(6, 40, 0, NULL),

(1, 41, 0, NULL),
(2, 41, 0, NULL),
(3, 41, 0, NULL),
(4, 41, 1, NULL),
(5, 41, 0, NULL),
(6, 41, 0, NULL),

(1, 42, 1, NULL),
(2, 42, 0, NULL),
(3, 42, 0, NULL),
(4, 42, 0, NULL),
(5, 42, 0, NULL),
(6, 42, 0, NULL),

(1, 43, 0, 358),
(2, 43, 0, 153),
(3, 43, 1, 360),
(4, 43, 0, 60),
(5, 43, 0, 342),
(6, 43, 0, 256),

(1, 44, 0, NULL),
(2, 44, 0, NULL),
(3, 44, 0, NULL),
(4, 44, 1, NULL),
(5, 44, 0, NULL),
(6, 44, 0, NULL),

(1, 45, 0, NULL),
(2, 45, 1, NULL),
(3, 45, 0, NULL),
(4, 45, 0, NULL),
(5, 45, 0, NULL),
(6, 45, 0, NULL),

(1, 46, 0, NULL),
(2, 46, 0, NULL),
(3, 46, 1, NULL),
(4, 46, 0, NULL),
(5, 46, 0, NULL),
(6, 46, 0, NULL),

(1, 47, 0, NULL),
(2, 47, 1, NULL),
(3, 47, 0, NULL),
(4, 47, 0, NULL),
(5, 47, 0, NULL),
(6, 47, 0, NULL),

(1, 48, 0, 210),
(2, 48, 1, 300),
(3, 48, 0, 190),
(4, 48, 0, 160),
(5, 48, 0, 270),
(6, 48, 0, 200),

(1, 49, 0, NULL),
(2, 49, 0, NULL),
(3, 49, 0, NULL),
(4, 49, 0, NULL),
(5, 49, 0, NULL),
(6, 49, 1, NULL),

(1, 50, 0, NULL),
(2, 50, 0, NULL),
(3, 50, 0, NULL),
(4, 50, 1, NULL),
(5, 50, 0, NULL),
(6, 50, 0, NULL),

(1, 51, 0, NULL),
(2, 51, 1, NULL),
(3, 51, 0, NULL),
(4, 51, 0, NULL),
(5, 51, 0, NULL),
(6, 51, 0, NULL),

(1, 52, 1, NULL),
(2, 52, 0, NULL),
(3, 52, 0, NULL),
(4, 52, 0, NULL),
(5, 52, 0, NULL),
(6, 52, 0, NULL),

(1, 53, 0, NULL),
(2, 53, 0, NULL),
(3, 53, 0, NULL),
(4, 53, 1, NULL),
(5, 53, 0, NULL),
(6, 53, 0, NULL),

(1, 54, 0, NULL),
(2, 54, 0, NULL),
(3, 54, 0, NULL),
(4, 54, 1, NULL),
(5, 54, 0, NULL),
(6, 54, 0, NULL),

(1, 55, 0, 230),
(2, 55, 1, 253),
(3, 55, 0, 162),
(4, 55, 0, 186),
(5, 55, 0, 203),
(6, 55, 0, 230),

(1, 56, 0, NULL),
(2, 56, 0, NULL),
(3, 56, 0, NULL),
(4, 56, 1, NULL),
(5, 56, 0, NULL),
(6, 56, 0, NULL),

(1, 57, 0, NULL),
(2, 57, 0, NULL),
(3, 57, 1, NULL),
(4, 57, 0, NULL),
(5, 57, 0, NULL),
(6, 57, 0, NULL),

(1, 58, 0, NULL),
(2, 58, 0, NULL),
(3, 58, 0, NULL),
(4, 58, 0, NULL),
(5, 58, 1, NULL),
(6, 58, 0, NULL),

(1, 59, 0, NULL),
(2, 59, 1, NULL),
(3, 59, 0, NULL),
(4, 59, 0, NULL),
(5, 59, 0, NULL),
(6, 59, 0, NULL),

(1, 60, 0, NULL),
(2, 60, 0, NULL),
(3, 60, 0, NULL),
(4, 60, 1, NULL),
(5, 60, 0, NULL),
(6, 60, 0, NULL),

(1, 61, 0, 230),
(2, 61, 1, 253),
(3, 61, 0, 162),
(4, 61, 0, 186),
(5, 61, 0, 203),
(6, 61, 0, 230),

(1, 62, 0, NULL),
(2, 62, 0, NULL),
(3, 62, 0, NULL),
(4, 62, 1, NULL),
(5, 62, 0, NULL),
(6, 62, 0, NULL),

(1, 63, 0, NULL),
(2, 63, 1, NULL),
(3, 63, 0, NULL),
(4, 63, 0, NULL),
(5, 63, 0, NULL),
(6, 63, 0, NULL),

(1, 64, 1, NULL),
(2, 64, 0, NULL),
(3, 64, 0, NULL),
(4, 64, 0, NULL),
(5, 64, 0, NULL),
(6, 64, 0, NULL),

(1, 65, 0, NULL),
(2, 65, 0, NULL),
(3, 65, 0, NULL),
(4, 65, 1, NULL),
(5, 65, 0, NULL),
(6, 65, 0, NULL),

(1, 66, 0, NULL),
(2, 66, 0, NULL),
(3, 66, 0, NULL),
(4, 66, 1, NULL),
(5, 66, 0, NULL),
(6, 66, 0, NULL),

(1, 67, 0, NULL),
(2, 67, 1, NULL),
(3, 67, 0, NULL),
(4, 67, 0, NULL),
(5, 67, 0, NULL),
(6, 67, 0, NULL),

(1, 68, 0, NULL),
(2, 68, 0, NULL),
(3, 68, 0, NULL),
(4, 68, 1, NULL),
(5, 68, 0, NULL),
(6, 68, 0, NULL),

(1, 69, 0, 300),
(2, 69, 0, 285),
(3, 69, 1, 302),
(4, 69, 0, 190),
(5, 69, 0, 263),
(6, 69, 0, 198),

(1, 70, 0, NULL),
(2, 70, 0, NULL),
(3, 70, 0, NULL),
(4, 70, 0, NULL),
(5, 70, 1, NULL),
(6, 70, 0, NULL),

(1, 71, 0, NULL),
(2, 71, 1, NULL),
(3, 71, 0, NULL),
(4, 71, 0, NULL),
(5, 71, 0, NULL),
(6, 71, 0, NULL),

(1, 72, 0, NULL),
(2, 72, 0, NULL),
(3, 72, 0, NULL),
(4, 72, 1, NULL),
(5, 72, 0, NULL),
(6, 72, 0, NULL),

(1, 73, 0, NULL),
(2, 73, 0, NULL),
(3, 73, 0, NULL),
(4, 73, 1, NULL),
(5, 73, 0, NULL),
(6, 73, 0, NULL),

(1, 74, 0, NULL),
(2, 74, 1, NULL),
(3, 74, 0, NULL),
(4, 74, 0, NULL),
(5, 74, 0, NULL),
(6, 74, 0, NULL),

(1, 75, 1, NULL),
(2, 75, 0, NULL),
(3, 75, 0, NULL),
(4, 75, 0, NULL),
(5, 75, 0, NULL),
(6, 75, 0, NULL),

(1, 76, 0, 135),
(2, 76, 0, 250),
(3, 76, 0, 152),
(4, 76, 1, 296),
(5, 76, 0, 274),
(6, 76, 0, 280),

(1, 77, 0, NULL),
(2, 77, 0, NULL),
(3, 77, 0, NULL),
(4, 77, 1, NULL),
(5, 77, 0, NULL),
(6, 77, 0, NULL),

(1, 78, 0, NULL),
(2, 78, 1, NULL),
(3, 78, 0, NULL),
(4, 78, 0, NULL),
(5, 78, 0, NULL),
(6, 78, 0, NULL),

(1, 79, 0, NULL),
(2, 79, 0, NULL),
(3, 79, 0, NULL),
(4, 79, 1, NULL),
(5, 79, 0, NULL),
(6, 79, 0, NULL),

(1, 80, 0, NULL),
(2, 80, 0, NULL),
(3, 80, 1, NULL),
(4, 80, 0, NULL),
(5, 80, 0, NULL),
(6, 80, 0, NULL);
-------------------------------------------------------
SELECT 
gp.Id, g.Name, pgp.Score, pgp.IsWinner
FROM 
[dbo].[Exo2_PlayerGamePlay] pgp

INNER JOIN [dbo].[Exo2_GamePlay] gp ON pgp.GamePlayId = gp.Id
INNER JOIN [dbo].[Exo2_Game] g ON gp.GameId = g.Id

WHERE GameId = 3

ORDER BY 
IsWinner DESC,
Score DESC


SELECT gp.Id

FROM 
[dbo].[Exo2_GamePlay] gp
INNER JOIN [dbo].[Exo2_Game] g ON gp.GameId = g.Id

WHERE 
g.Id = 3